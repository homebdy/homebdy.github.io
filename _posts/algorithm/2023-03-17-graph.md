---
layout: post
title:  "μ„λ΅μ† μ§‘ν•©"
author: yj
tags: [  Algorithm, μ΄μ½”ν… ]
category: [ Algorithmπ§© ]
---

#### κ·Έλν”„

λ…Έλ“μ™€ λ…Έλ“ μ‚¬μ΄μ— μ—°κ²°λ κ°„μ„ μ μ •λ³΄λ¥Ό κ°€μ§€κ³  μλ” μλ£κµ¬μ΅°λ¥Ό μλ―Έ

- μ„λ΅ λ‹¤λ¥Έ κ°μ²΄κ°€ μ—°κ²°λμ–΄ μλ‹¤λ” λ‚΄μ©μ΄ λ‚μ¤λ©΄ κ·Έλν”„ μ•κ³ λ¦¬μ¦μΌλ΅ μμ‹¬ν•΄μ•Όλλ‹¤!

**κµ¬ν„ λ°©λ²•**

- μΈμ ‘ ν–‰λ ¬: 2μ°¨μ› λ°°μ—΄μ„ μ‚¬μ©ν•λ” λ°©μ‹
- μΈμ ‘ λ¦¬μ¤νΈ: λ¦¬μ¤νΈλ¥Ό μ‚¬μ©ν•λ” λ°©μ‹

## <a href="#">μ„λ΅μ† μ§‘ν•©</a>

- μν•™μ—μ„μ μλ―Έ: κ³µλ™ μ›μ†κ°€ μ—†λ” λ‘ μ§‘ν•©μ„ μλ―Έ
- μ„λ΅μ† μ§‘ν•© μλ£κµ¬μ΅°: μ„λ΅μ† λ¶€λ¶„ μ§‘ν•©λ“¤λ΅ λ‚λ„μ–΄μ§„ μ›μ†λ“¤μ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•κΈ° μ„ν• μλ£κµ¬μ΅°
    -- `union`κ³Ό `find` μ—°μ‚°μΌλ΅ μ΅°μ‘ κ°€λ¥
    1. union μ—°μ‚°: 2κ°μ μ›μ†κ°€ ν¬ν•¨λ μ§‘ν•©μ„ ν•λ‚μ μ§‘ν•©μΌλ΅ ν•©μΉλ” μ—°μ‚°
    2. find μ—°μ‚°: νΉμ •ν• μ›μ†κ°€ μ†ν• μ§‘ν•©μ΄ μ–΄λ–¤ μ§‘ν•©μΈμ§€ μ•λ ¤μ£Όλ” μ—°μ‚°

#### μ„λ΅μ† μ§‘ν•© μλ£κµ¬μ΅°
- νΈλ¦¬ μλ£κµ¬μ΅°λ΅ μ§‘ν•© ν‘ν„

**μ„λ΅μ† μ§‘ν•© κ³„μ‚° μ•κ³ λ¦¬μ¦**

1. Unionμ—°μ‚°μ„ ν™•μΈν•μ—¬ μ—°κ²°λ λ‘ λ…Έλ“ A, Bλ¥Ό ν™•μΈ
    - Aμ™€ Bμ λ£¨νΈλ…Έλ“ A', B'λ¥Ό μ°Ύλ”λ‹¤.
    - A'λ¥Ό B'μ λ¶€λ¨ λ…Έλ“λ΅ μ„¤μ •ν•λ‹¤.

2. λ¨λ“  union μ—°μ‚°μ„ μ²λ¦¬ν•  λ•κΉμ§€ λ°λ³µ

- μ‹¤μ  κµ¬ν„ μ‹ A'μ™€ B' μ¤‘ λ²νΈκ°€ μ‘μ€ μ›μ†κ°€ λ¶€λ¨ λ…Έλ“κ°€ λλ„λ΅ κµ¬ν„ν•λ” κ²½μ°κ°€ λ§λ‹¤.

##### μμ‹

1 2 3 4 5 6

μ—°κ²° λ…Έλ“: 1-2, 2-3. 1-4,, 5-6

**1. λ…Έλ“ κ°μ Vν¬κΈ°μ λ¶€λ¨ ν…μ΄λΈ” μ΄κΈ°ν™”**

| λ…Έλ“ λ²νΈ &nbsp; | 1&nbsp; | 2&nbsp; | 3&nbsp; | 4&nbsp; | 5&nbsp; | 6&nbsp; |
| λ¶€λ¨ | 1&nbsp; | 2&nbsp; | 3&nbsp; | 4&nbsp; | 5&nbsp; | 6&nbsp; |


**2. union 1, 4**

| λ…Έλ“ λ²νΈ &nbsp; | 1&nbsp; | 2&nbsp; | 3&nbsp; | 4&nbsp; | 5&nbsp; | 6&nbsp; |
| λ¶€λ¨             | 1&nbsp; | 2&nbsp; | 3&nbsp; | 1&nbsp; | 5&nbsp; | 6&nbsp; |

- μ²«λ²μ§Έ unionμ—°μ‚°μΌλ΅ 1κ³Ό 4λ¥Ό ν•©μΉλ‹¤.
- λ£¨νΈ λ…Έλ“ 4μ λ¶€λ¨λ¥Ό 1λ΅ μ„¤μ •ν•λ‹¤.

**3. union 2, 3**

| λ…Έλ“ λ²νΈ &nbsp; | 1&nbsp; | 2&nbsp; | 3&nbsp; | 4&nbsp; | 5&nbsp; | 6&nbsp; |
| λ¶€λ¨             | 1&nbsp; | 2&nbsp; | 2&nbsp; | 1&nbsp; | 5&nbsp; | 6&nbsp; |

- unionμ—°μ‚°μΌλ΅ 2κ³Ό 3λ¥Ό ν•©μΉλ‹¤.
- λ£¨νΈ λ…Έλ“ 3μ λ¶€λ¨λ¥Ό 2λ΅ μ„¤μ •ν•λ‹¤.

**4. union 2, 4**

| λ…Έλ“ λ²νΈ &nbsp; | 1&nbsp; | 2&nbsp; | 3&nbsp; | 4&nbsp; | 5&nbsp; | 6&nbsp; |
| λ¶€λ¨             | 1&nbsp; | 1&nbsp; | 2&nbsp; | 1&nbsp; | 5&nbsp; | 6&nbsp; |

- unionμ—°μ‚°μΌλ΅ 2κ³Ό 4λ¥Ό ν•©μΉλ‹¤.
- λ…Έλ“ 2μ™€ λ…Έλ“ 4μ λ£¨νΈ λ…Έλ“λ¥Ό μ°Ύλ”λ‹¤.
- λ…Έλ“ 2μ λ£¨νΈ λ…Έλ“λ” 2, 4μ λ£¨νΈ λ…Έλ“λ” 1
- λ£¨νΈ λ…Έλ“ 2μ λ¶€λ¨λ¥Ό 1λ΅ μ„¤μ •

**5. union 5, 6**

| λ…Έλ“ λ²νΈ &nbsp; | 1&nbsp; | 2&nbsp; | 3&nbsp; | 4&nbsp; | 5&nbsp; | 6&nbsp; |
| λ¶€λ¨             | 1&nbsp; | 1&nbsp; | 2&nbsp; | 1&nbsp; | 5&nbsp; | 5&nbsp; |

- unionμ—°μ‚°μΌλ΅ 5κ³Ό 6λ¥Ό ν•©μΉλ‹¤.
- λ…Έλ“ 5μ™€ λ…Έλ“ 6μ λ£¨νΈ λ…Έλ“λ¥Ό μ°Ύλ”λ‹¤.
- λ£¨νΈ λ…Έλ“ 6μ λ¶€λ¨λ¥Ό 5λ΅ μ„¤μ •

---

μ΄ μμ‹μ—μ„ 3μ λ¶€λ¨ λ…Έλ“λ” 2μ΄μ§€λ§ 2μ λ¶€λ¨ λ…Έλ“λ” 1μ΄λ―€λ΅ λ…Έλ“ 3μ λ£¨νΈ λ…Έλ“λ” 1μ΄λ‹¤
- λ…Έλ“ 3μ λ£¨νΈλ¥Ό μ°ΎμΌλ ¤λ©΄ λ¶€λ¨λ…Έλ“μΈ 2λ΅ μ΄λ™ν• ν›„, λ…Έλ“ 2μ λ¶€λ¨λ¥Ό λ‹¤μ‹ ν™•μΈν•΄μ•Ό μµμΆ… λ£¨νΈ λ…Έλ“λ¥Ό ν™•μΈν•  μ μλ‹¤.

**μ†μ¤μ½”λ“**

```python
# νΉμ • μ›μ†κ°€ μ†ν• μ§‘ν•©μ„ μ°Ύλ”λ‹¤.
def find_parent(parent, x):
    #λ£¨νΈ λ…Έλ“κ°€ μ•„λ‹λ©΄ λ£¨νΈ λ…Έλ“λ¥Ό μ°Ύμ„ λ•κΉμ§€ μ¬κ·€ νΈμ¶
    if parent[x] != x:
        return find_parent(parent, parent[x])
    return x
    
# λ‘ μ›μ†κ°€ μ†ν• μ§‘ν•©μ„ ν•©μΉλ‹¤.
def union_parent(parent, a, b):
    a = find_parent(parent, a)
    b = find_parent(parent, b)
    if a < b:
        parent[b] = a
    else:
        parent[a] = b

v, e= map(int, input().split())
parent = [0] * (v+1)

for i in range(1, v+1):
    parent[i] = i

for i in range(e):
    a, b = map(int, input().split())
    union_parent(parent, a, b)

print('κ° μ›μ†μ μ§‘ν•©: ', end='')
for i in range(1, v+1):
    print(find_parent(parent, i), end = ' ')

print()

print('λ¶€λ¨ ν…μ΄λΈ”: ', end = '')
for i in range(1, v+1):
    print(parent[i], end = ' ')
```

- `find` ν•¨μκ°€ λΉ„ν¨μ¨ μ μΌλ΅ λ™μ‘

    -- μµμ•…μ κ²½μ° λ¨λ“  λ…Έλ“λ¥Ό λ‹¤ ν™•μΈν•μ—¬μ•Ό ν•λ―€λ΅ μ‹κ°„ λ³µμ΅λ„κ°€ O(V)

- `κ²½λ΅μ••μ¶•` κΈ°λ²•μ„ μ‚¬μ©ν•μ—¬ μµμ ν™”ν•  μ μλ‹¤.

    -- find ν•¨μλ¥Ό μ¬κ·€μ μΌλ΅ νΈμ¶ν• λ’¤ λ¶€λ¨ ν…μ΄λΈ” κ°’μ„ κ°±μ‹ ν•λ” κΈ°λ²•

**κ²½λ΅ μ••μ¶ κΈ°λ²•μ„ μ‚¬μ©ν•΄ κ°μ„ ν• μ½”λ“**

```python
def find_parent(parent, x):
    if parent[x] != x:
        parent[x] = find_parent(parent, parent[x])
    return parent[x]
```

- λ…Έλ“μ κ°μκ°€ Vκ°, μµλ€ V -1κ°μ union μ—°μ‚°κ³Ό Mκ°μ find μ—°μ‚°μ΄ κ°€λ¥ν•  λ• μ‹κ°„ λ³µμ΅λ„

    -- O(B+M(1+log_(2-M/V) V))

## <a href="#">μ„λ΅μ† μ§‘ν•©μ„ ν™μ©ν• μ‚¬μ΄ν΄ νλ³„</a>

μ§‘ν•©μ„ ν•©μΉλ” κ³Όμ •μ„ λ°λ³µν•μ—¬ λ¬΄λ°©ν–¥ κ·Έλν”„ λ‚΄μ μ‚¬μ΄ν΄ νλ³„ κ°€λ¥

#### κ³Όμ •

1. κ° κ°„μ„ μ„ ν™•μΈν•λ©° λ‘ λ…Έλ“μ λ£¨νΈ λ…Έλ“ ν™•μΈ
    - λ£¨νΈ λ…Έλ“κ°€ μ„λ΅ λ‹¤λ¥Έ κ²½μ°: λ‘ λ…Έλ“ union
    - λ£¨νΈ λ…Έλ“κ°€ μ„λ΅ κ°™μ€ κ²½μ°: μ‚¬μ΄ν΄
2. κ·Έλν”„μ— ν¬ν•¨λ λ¨λ“  κ°„μ„ μ— λ€ν•΄ 1λ² κ³Όμ • μν–‰

#### μμ‹

1, 2, 3

μ—°κ²°λ λ…Έλ“: 1-2, 2-3, 3-1
- 1, 2, 3μ΄ μ‚¬μ΄ν΄μ„ μ΄λ£¨κ³  μλ” κ²½μ°

**1. λ¶€λ¨ ν…μ΄λΈ” μ΄κΈ°ν™”**

| λ…Έλ“ λ²νΈ &nbsp;| 1&nbsp; | 2&nbsp; | 3&nbsp; | 
| λ¶€λ¨            | 1&nbsp; | 2&nbsp; | 3&nbsp; |

**2. κ°„μ„  (1, 2) ν™•μΈ**

- λ…Έλ“ 1κ³Ό λ…Έλ“ 2μ λ£¨νΈ λ…Έλ“ = 1, 2
- λ…Έλ“ 2μ λ¶€λ¨ λ…Έλ“λ¥Ό 1λ΅ μ„¤μ •

| λ…Έλ“ λ²νΈ &nbsp;| 1&nbsp; | 2&nbsp; | 3&nbsp; | 
| λ¶€λ¨            | 1&nbsp; | 1&nbsp; | 3&nbsp; |

**3. κ°„μ„  (1, 3) ν™•μΈ**

- λ…Έλ“ 1κ³Ό λ…Έλ“ 3μ λ£¨νΈ λ…Έλ“ = 1, 3
- λ…Έλ“ 3μ λ¶€λ¨ λ…Έλ“λ¥Ό 1λ΅ μ„¤μ •

| λ…Έλ“ λ²νΈ &nbsp;| 1&nbsp; | 2&nbsp; | 3&nbsp; | 
| λ¶€λ¨            | 1&nbsp; | 1&nbsp; | 1&nbsp; |

**4. κ°„μ„  (2, 3) ν™•μΈ**

- λ…Έλ“ 2κ³Ό λ…Έλ“ 3μ λ£¨νΈ λ…Έλ“ = 1, 1
- λ‘ λ…Έλ“μ λ¶€λ¨ λ…Έλ“κ°€ λ¨λ‘ 1 
- μ‚¬μ΄ν΄μ΄ λ°μƒλμ—λ‹¤λ” κ²ƒμ„ μ• μ μμ

| λ…Έλ“ λ²νΈ &nbsp;| 1&nbsp; | 2&nbsp; | 3&nbsp; | 
| λ¶€λ¨            | 1&nbsp; | 1&nbsp; | 1&nbsp; |

#### μ†μ¤ μ½”λ“

```python
def find_parent(parent, x):
    if parent[x] != x:
        parent[x] = find_parent(parent, parent[x])
    return parent[x]

# λ‘ μ›μ†κ°€ μ†ν• μ§‘ν•©μ„ ν•©μΉλ‹¤.
def union_parent(parent, a, b):
    a = find_parent(parent, a)
    b = find_parent(parent, b)
    if a < b:
        parent[b] = a
    else:
        parent[a] = b

v, e= map(int, input().split())
parent = [0] * (v+1)

for i in range(1, v+1):
    parent[i] = i

cycle = False

for i in range(e):
    a, b = map(int, input().split())
    if find_parent(parent, a) == find_parent(parent, b):
        cycle = True
        break
    else:
        union_parent(parent, a, b)

if cycle:
    print("μ‚¬μ΄ν΄ λ°μƒ")
else:
    print("μ‚¬μ΄ν΄ X")
```